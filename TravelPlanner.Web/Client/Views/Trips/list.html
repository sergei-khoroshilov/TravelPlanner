<div ng-controller="TripListController">
    
    <h3>Trips</h3>

        <form name="filterForm" class="form-inline input-sm input-group-sm form-group-sm" novalidate>
            <div class="form-group">
                <label for="destination">Destination</label>
                <input type="text" ng-model="filter.destination" class="form-control input-sm" id="destination" placeholder="Destination" />
            </div>

            <div class="form-group">
                <label for="startDate">Start date</label>
                <input type="text" ng-model="filter.fromStart" class="form-control" id="startDate" datepicker placeholder="Start date" />
            </div>

            <div class="form-group">
                <label for="endDate">End date</label>
                <input type="text" ng-model="filter.toEnd" class="form-control" id="endDate" datepicker placeholder="End date" />
            </div>

            <div class="form-group">
                <label for="comment">Comment</label>
                <input type="text" ng-model="filter.comment" class="form-control" id="comment" placeholder="Comment" />
            </div>

            <input type="submit" class="btn btn-primary btn-sm" value="Filter" ng-click="applyFilter(filter)" />
            <input type="button" class="btn btn-sm" value="Clear" ng-click="clearFilter()" />
        </form>

    <br />
    <a href="#/users/{{userId}}/trips/new">Create new</a>

    <table class="container table table-striped table-hover">
        <thead>
            <tr>
                <th>Destination</th>
                <th>Start date</th>
                <th>End date</th>
                <th>Starts in, days</th>
                <th>Comment</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="trip in trips">
                <td>{{trip.destination}}</td>
                <td>{{trip.startDate | date : format : mediumDate}}</td>
                <td>{{trip.endDate | date : format : mediumDate}}</td>
                <td>{{formatDaysToStart(trip.startDate)}}</td>
                <td class="comment">{{trip.comment | limitTo : 20}}{{trip.comment.length > 20 ? '...' : '' }}</td>
                <td>
                    <a href="#/users/{{userId}}/trips/{{trip.id}}">Edit</a>
                </td>
                <td>
                    <a href="" ng-click="delete(trip)">Delete</a>
                </td>
            </tr>
        </tbody>
    </table> 

</div>
